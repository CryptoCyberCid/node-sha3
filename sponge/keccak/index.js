"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _buffer=require("buffer");var _copy=_interopRequireDefault(require("./copy"));var _flip=_interopRequireDefault(require("./flip"));var _rotate=_interopRequireDefault(require("./rotate"));var _xor=_interopRequireDefault(require("./xor"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ROUND_CONSTANTS=_buffer.Buffer.from("00000000000000010000000000008082800000000000808a8000000080008000000000000000808b000000008000000180000000800080818000000000008009000000000000008a00000000000000880000000080008009000000008000000a000000008000808b800000000000008b8000000000008089800000000000800380000000000080028000000000000080000000000000800a800000008000000a8000000080008081800000000000808000000000800000018000000080008008","hex");var RHO_OFFSETS=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var PI_SHUFFLES=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var keccak=function keccak(A){var C=_buffer.Buffer.alloc(40);var D=_buffer.Buffer.alloc(40);var W=_buffer.Buffer.alloc(8);(0,_flip.default)(A);for(var roundIndex=0;roundIndex<24;roundIndex++){for(var x=0;x<5;x++){(0,_xor.default)(C,x,A,x,A,x+5,A,x+10,A,x+15,A,x+20)}for(var _x=0;_x<5;_x++){(0,_copy.default)(C,(_x+1)%5,W,0);(0,_xor.default)(D,_x,C,(_x+4)%5,(0,_rotate.default)(W,0,1),0);for(var y=0;y<25;y+=5){(0,_xor.default)(A,y+_x,A,y+_x,D,_x)}}(0,_copy.default)(A,1,W,0);for(var i=0;i<24;i++){var j=PI_SHUFFLES[i];(0,_copy.default)(A,j,C,0);(0,_copy.default)((0,_rotate.default)(W,0,RHO_OFFSETS[i]),0,A,j);(0,_copy.default)(C,0,W,0)}for(var _y=0;_y<25;_y+=5){for(var _x2=0;_x2<5;_x2++){(0,_copy.default)(A,_y+_x2,C,_x2)}for(var _x3=0;_x3<5;_x3++){for(var _i=0;_i<8;_i++){var xyi=(_y+_x3)*8+_i;var x1i=(_x3+1)%5*8+_i;var x2i=(_x3+2)%5*8+_i;A[xyi]^=~C[x1i]&C[x2i]}}}(0,_xor.default)(A,0,A,0,ROUND_CONSTANTS,roundIndex)}(0,_flip.default)(A);return A};var _default=keccak;exports.default=_default;